(function(t){function e(e){for(var r,i,s=e[0],c=e[1],l=e[2],f=0,d=[];f<s.length;f++)i=s[f],o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var r=n("2b0e"),o=n("ce5b"),a=n.n(o),i=(n("bf40"),n("c0a4")),s=n.n(i);r["default"].use(a.a,{theme:{primary:s.a.blueGrey.base,secondary:s.a.blueGrey.lighten1,accent:s.a.blueGrey.darken1,other:s.a.lightBlue.darken1,error:s.a.red.base,warning:s.a.yellow.base,info:s.a.blue.base,success:s.a.green.base}});var c=n("2c82"),l=n("522d"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{staticStyle:{background:"#E3E3EE"}},[n("v-navigation-drawer",{attrs:{app:"",temporary:"",fix:""},model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-side-icon",{on:{click:t.toggleSideNav}}),n("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[n("h1",{staticClass:"title pl-3"},[t._v("VueShare")])])],1),n("v-divider"),n("v-list",[t._l(t.sideNavItems,function(e){return n("v-list-tile",{key:e.title,attrs:{ripple:"",to:e.link}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-tile-content",[t._v("\n          "+t._s(e.title)+"\n        ")])],1)}),t.user?n("v-list-tile",[n("v-list-tile-action",[n("v-icon",[t._v("exit_to_app")])],1),n("v-list-tile-content",[t._v("Signout")])],1):t._e()],2)],1),n("v-toolbar",{attrs:{fixed:"",color:"primary",dark:""}},[n("v-toolbar-side-icon",{on:{click:t.toggleSideNav}}),n("v-toolbar-title",{staticClass:"hidden-xs-only"},[n("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("VueShare")])],1),n("v-spacer"),n("v-text-field",{attrs:{flex:"","prepend-icon":"search",placeholder:"Search posts",color:"accent","single-line":"","hide-details":""}}),n("v-spacer"),n("v-toolbar-items",{staticClass:"hidden-xs-only"},[t._l(t.horizontalNavItems,function(e){return n("v-btn",{key:e.title,attrs:{flat:"",to:e.link}},[n("v-icon",{staticClass:"hidden-sm-only",attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),t.user?n("v-btn",{attrs:{flat:"",to:"/profile"}},[n("v-icon",{staticClass:"hidden-sm-only",attrs:{left:""}},[t._v("account_box")]),n("v-badge",{attrs:{right:"",color:"blue darken-2"}}),t._v("\n        Profile\n      ")],1):t._e(),t.user?n("v-btn",{attrs:{flat:""},on:{click:t.handleSignoutUSer}},[n("v-icon",{staticClass:"hidden-sm-only",attrs:{left:""}},[t._v("exit_to_app")]),t._v("\n        Signout\n      ")],1):t._e()],2)],1),n("main",[n("v-container",{staticClass:"mt-4"},[n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1)],1)],1)},f=[],d=n("2f62");function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){v(t,e,n[e])})}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b={name:"App",data:function(){return{sideNav:!1}},computed:p({},Object(d["b"])(["user"]),{horizontalNavItems:function(){var t=[{icon:"chat",title:"Post",link:"/posts"},{icon:"lock_open",title:"Sign In",link:"/signin"},{icon:"create",title:"Sign Up",link:"/signup"}];return this.user&&(t=[{icon:"chat",title:"Post",link:"/posts"}]),t},sideNavItems:function(){var t=[{icon:"chat",title:"Post",link:"/posts"},{icon:"lock_open",title:"Sign In",link:"/signin"},{icon:"create",title:"Sign Up",link:"/signup"}];return this.user&&(t=[{icon:"chat",title:"Post",link:"/posts"},{icon:"stars",title:"Create Post",link:"/post/add"},{icon:"account_box",title:"Profile",link:"/profile"}]),t}}),methods:{handleSignoutUSer:function(){this.$store.dispatch("signoutUser")},toggleSideNav:function(){this.sideNav=!this.sideNav}}},m=b,g=(n("034f"),n("2877")),h=Object(g["a"])(m,u,f,!1,null,null,null),y=h.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-alert",{attrs:{type:"error",value:!0,transition:"scale-transition",dismissible:""}},[n("h3",[t._v(t._s(t.message))])])},w=[],x={props:["message"]},S=x,k=Object(g["a"])(S,_,w,!1,null,null,null),O=k.exports,P=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{attrs:{"text-xs-center":""}},[n("v-layout",{attrs:{row:""}},[n("v-dialog",{attrs:{persistent:"",fullscreen:""},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{indeterminate:"",size:70,width:7,color:"secondary"}})],1)],1)],1)],1),n("v-flex",{attrs:{xs12:""}},[!t.loading&&t.posts.length>0?n("v-carousel",t._b({attrs:{interval:"3000"}},"v-carousel",{cicle:!0},!1),t._l(t.posts,function(e){return n("v-carousel-item",{key:e._id,attrs:{src:e.imageUrl}},[n("h1",{attrs:{id:"carousel__title"}},[t._v(t._s(e.title))])])}),1):t._e()],1)],1)],1)},U=[];function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){$(t,e,n[e])})}return t}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N={name:"home",created:function(){this.handleGetCarouselPosts()},computed:E({},Object(d["b"])(["loading","posts"])),methods:{handleGetCarouselPosts:function(){this.$store.dispatch("getPosts")}}},C=N,I=(n("8b71"),Object(g["a"])(C,j,U,!1,null,null,null)),L=I.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("Add Post")])])},z=[],D={name:"AddPost"},G=D,A=Object(g["a"])(G,q,z,!1,null,null,null),M=A.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("Posts")])])},B=[],J={name:"Posts"},V=J,Q=Object(g["a"])(V,T,B,!1,null,null,null),W=Q.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("Profile")])])},H=[],K={name:"Profile"},R=K,X=Object(g["a"])(R,F,H,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"text-xs-center":"","mt-5":"","pt-5":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("h1",[t._v("Welcome Back")])])],1),t.error?n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("form-alert",{attrs:{message:t.error.message}})],1)],1):t._e(),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",{attrs:{color:"secondary"}},[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleSigninUser(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-text-field",{attrs:{"prepend-icon":"face",label:"Username",type:"text",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-text-field",{attrs:{"prepend-icon":"extention",label:"Password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-btn",{attrs:{color:"accent",type:"submit"}},[t._v("Signin")]),n("h3",[t._v("Don't have an account?\n                  "),n("router-link",{attrs:{to:"/signup"}},[t._v("Signup")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},tt=[];function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){nt(t,e,n[e])})}return t}function nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rt={name:"Signin",data:function(){return{username:"",password:""}},computed:et({},Object(d["b"])(["error","user"])),watch:{user:function(t){t&&this.$router.push("/")}},methods:{handleSigninUser:function(){this.$store.dispatch("signinUser",{userName:this.username,password:this.password})}}},ot=rt,at=Object(g["a"])(ot,Z,tt,!1,null,null,null),it=at.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("Signup")])])},ct=[],lt={name:"Signup"},ut=lt,ft=Object(g["a"])(ut,st,ct,!1,null,null,null),dt=ft.exports,pt=n("a34a"),vt=n.n(pt);function bt(){var t=yt(["\n    mutation($userName: String!, $email: String!, $password: String!) {\n        signupUser(userName: $userName, email: $email, password: $password) {\n            token\n        }\n    }\n"]);return bt=function(){return t},t}function mt(){var t=yt(["\n    mutation($userName: String!, $password: String!) {\n        signinUser(userName: $userName, password: $password) {\n            token\n        }\n    }\n"]);return mt=function(){return t},t}function gt(){var t=yt(["\n    query {\n        getPosts {\n        _id\n        title\n        imageUrl\n        description\n        }\n    }\n"]);return gt=function(){return t},t}function ht(){var t=yt(["\n    query {\n        getCurrentUser {\n            _id\n            userName\n            email\n            password\n            avatar\n            joinDate\n            favorites {\n                _id\n                title\n                imageUrl\n            }\n        }\n    }\n"]);return ht=function(){return t},t}function yt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _t=Object(c["b"])(ht()),wt=Object(c["b"])(gt()),xt=Object(c["b"])(mt());Object(c["b"])(bt());function St(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(r,o)}function kt(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){St(a,r,o,i,s,"next",t)}function s(t){St(a,r,o,i,s,"throw",t)}i(void 0)})}}r["default"].use(d["a"]);var Ot=new d["a"].Store({state:{posts:[],user:null,loading:!1,error:null},mutations:{setPosts:function(t,e){t.posts=e},setUser:function(t,e){t.user=e},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null},clearUser:function(t){t.user=null}},actions:{getCurrentUser:function(t){var e=t.commit;e("setLoading",!0),Ut.query({query:_t}).then(function(t){var n=t.data;e("setLoading",!1),e("setUser",n.getCurrentUser)}).catch(function(t){throw e("setLoading",!1),t})},getPosts:function(t){var e=t.commit;e("setLoading",!0),Ut.query({query:wt}).then(function(t){var n=t.data;e("setPosts",n.getPosts),e("setLoading",!1)}).catch(function(t){throw e("setLoading",!1),t})},signinUser:function(t,e){var n=t.commit;n("setLoading",!0),n("clearError"),localStorage.setItem("token",""),Ut.mutate({mutation:xt,variables:e}).then(function(t){var e=t.data;localStorage.setItem("token",e.signinUser.token),jt.go(),n("setLoading",!1)}).catch(function(t){throw n("setError",t),n("setLoading",!1),t})},signoutUser:function(){var t=kt(vt.a.mark(function t(e){var n;return vt.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("clearUser"),localStorage.setItem("token",""),t.next=5,Ut.resetStore();case 5:jt.push("/");case 6:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},getters:{posts:function(t){return t.posts},user:function(t){return t.user},loading:function(t){return t.loading},error:function(t){return t.error}}}),Pt=function(t,e,n){Ot.getters.user?n():n({path:"/signin"})};r["default"].use(P["a"]);var jt=new P["a"]({routes:[{path:"/",name:"home",component:L},{path:"/posts",name:"Posts",component:W},{path:"/post/add",name:"AddPost",component:M},{path:"/profile",name:"Profile",component:Y,beforeEnter:Pt},{path:"/signin",name:"Signin",component:it},{path:"/signup",name:"Signup",component:dt}]});n.d(e,"defaultClient",function(){return Ut}),r["default"].component("form-alert",O),r["default"].use(l["a"]);var Ut=new c["a"]({uri:"http://localhost:5002/graphql",fetchOptions:{credentials:"include"},request:function(t){localStorage.token||localStorage.setItem("token",""),t.setContext({headers:{authorization:localStorage.getItem("token")}})},onError:function(t){var e=t.graphQLErrors,n=t.networkError;if(n&&console.log("[networkError]",n),e){var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;console.dir(c)}}catch(c){o=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}}}}),Et=new l["a"]({defaultClient:Ut});r["default"].config.productionTip=!1,new r["default"]({provide:Et,router:jt,store:Ot,created:function(){this.$store.dispatch("getCurrentUser")},render:function(t){return t(y)}}).$mount("#app")},"64a9":function(t,e,n){},"8b71":function(t,e,n){"use strict";var r=n("e3a2"),o=n.n(r);o.a},e3a2:function(t,e,n){}});
//# sourceMappingURL=app.bebff882.js.map